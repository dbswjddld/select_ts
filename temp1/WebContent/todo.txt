1. 테이블스페이스 리스트 페이징
2. mvc2모델 양식 맞추기
3. 예외처리?
4. auto extend 옵션?
5. 상태 offline인건 목록에 안뜬다 ㅜㅜ
6. offline -> read write -> read only
------------------------------------- 경로
show parameter db_create_file_dest;
-- 기본 경로
alter system set db_create_file_dest='C:\oraclexe\app\oracle\oradata\XE';
-- 경로 값 설정
select value
from v$parameter 
where name = 'db_create_file_dest';
-- 경로 가져올때
------------------------------------- 데이터파일 조회
file번호로 조인

------------------------------------- 생성
CREATE SMALLFILE TABLESPACE "AAA"
DATAFILE '/u01/app/oracle/oradata/orcl/name' SIZE 1M
, '/u01/app/oracle/oradata/orcl/name2' SIZE 1M
LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO
ALTER TABLESPACE "AAA" READ ONLY   -> 생성하면서 상태 read only로 만들 때


CREATE SMALLFILE TEMPORARY TABLESPACE "TEST"
TEMPFILE '/u01/app/oracle/oradata/orcl/tt' SIZE 100M
EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M
>>>> temporary tablespace 생성

CREATE SMALLFILE UNDO TABLESPACE "TEST"
DATAFILE '/u01/app/oracle/oradata/orcl/test' SIZE 100M
RETENTION NOGUARANTEE
>>>> undo tablespace
-------------------------------------- 검색 프로시저★★★★★★★
create or replace PROCEDURE p_ts_list_search (p_name in varchar2, t_list out SYS_REFCURSOR)
IS
BEGIN
  OPEN t_list FOR
    select a.tablespace_name, a.status, a.contents, sum(b.bytes/1024/1024) as total, sum(c.bytes/1024/1024) as free
    from dba_tablespaces a
    left outer join dba_free_space c
          on a.tablespace_name = c.tablespace_name
    left outer join dba_data_files b 
          on a.tablespace_name = b.tablespace_name
    where a.tablespace_name like '%' || p_name || '%'
    group by a.tablespace_name, a.status, a.contents;
END p_ts_list_search;
-------------------------------------- 리스트 출력 프로시저 --> 이제 안씀
create or replace PROCEDURE p_ts_list (t_list out SYS_REFCURSOR)
IS
BEGIN
  OPEN t_list FOR
    select a.tablespace_name, a.status, a.contents, sum(b.bytes/1024/1024) as total, sum(c.bytes/1024/1024) as free
    from dba_tablespaces a
    left outer join dba_free_space c
          on a.tablespace_name = c.tablespace_name
    left outer join dba_data_files b 
          on a.tablespace_name = b.tablespace_name
    group by a.tablespace_name, a.status, a.contents;
END p_ts_list;